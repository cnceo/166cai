(function(){window.cx||(window.cx={});cx.Lottery=function(){var e={};e.lid=cx.Lid.PLS;e.playTypes={"default":"1",zx:"1",z3:"2",z6:"3"};e.jiangjin={zx:"1040",z3:"346",z6:"173"};e.getPlayTypeByMidCode=function(b){var c={1:"zx",2:"z3",3:"z6"};return b in c?c[b]:"zx"};e.jiangjin={zx:"1040",z3:"346",z6:"173"};e.getNumberSeparator=function(b){var c={"default":"",zx:"",z3:",",z6:","};return b in c?c[b]:c["default"]};e.getPlaceSeparator=function(b){var c={"default":",",zx:",",z3:"",z6:""};return b in c?c[b]:c["default"]};e.hasPaddingZero=function(b){return!1};e.getCastPost=function(b,c){if(c&&"z3"==b)return"3";var a={"default":"1",zx:"1",z3:"1",z6:"3"};return b in a?a[b]:a["default"]};e.getPlayTypeName=function(b){var c={1:"\u76f4\u9009",2:"\u7ec4\u4e09",3:"\u7ec4\u516d"};return b in c?c[b]:c["default"]};e.getMinLength=function(b){var c={"default":[1,1,1],zx:[1,1,1],z3:[2],z6:[3]};return b in c?c[b]:c["default"]};e.getAmount=function(b){var c={"default":[9,9,9],zx:[9,9,9],z3:[9],z6:[9]};return b in c?c[b]:c["default"]};e.getStartIndex=function(b){var c={"default":[0,0,0],zx:[0,0,0],z3:[0],z6:[0]};return b in c?c[b]:c["default"]};e.getRule=function(b,c){var a={status:!0,content:"",size:"18"};switch(b){case "zx":-1<c[0].indexOf("1")&&(a.status=!1,a.content='\x3ci class\x3d"icon-font"\x3e\x26#xe611;\x3c/i\x3e\u6bcf\u4f4d\u81f3\u5c11\u9009\u62e9\uff11\u4e2a\u53f7\u7801');break;case "z3":1==c[0]&&(a.status=!1,a.content='\x3ci class\x3d"icon-font"\x3e\x26#xe611;\x3c/i\x3e\u8bf7\u81f3\u5c11\u9009\u62e9\x3cspan class\x3d"num-red"\x3e\uff12\x3c/span\x3e\u4e2a\u53f7\u7801');break;case "z6":1==c[0]&&(a.status=!1,a.content='\x3ci class\x3d"icon-font"\x3e\x26#xe611;\x3c/i\x3e\u8bf7\u81f3\u5c11\u9009\u62e9\x3cspan class\x3d"num-red"\x3e\uff13\x3c/span\x3e\u4e2a\u53f7\u7801')}return a};e.getPlayTypeByCode=function(b){b=parseInt(b,10);return["","zx","z3","z6"][b]};return e}()})();$(function(){cx.BoxCollection.prototype.init=function(){var a=this;this.$el.find(".add-basket").click(function(){if(2E4<a.calcMoney())cx.Alert({content:"\x3ci class\x3d'icon-font'\x3e\x26#xe611;\x3c/i\x3e\u5355\u7b14\u8ba2\u5355\u91d1\u989d\u6700\u9ad8\x3cspan class\x3d'num-red'\x3e\uff12\u4e07\x3c/span\x3e\u5143"});else{var d=cx.Lottery.getRule(a.getType(),a.isValid());!0!==d.status?cx.Alert({content:d.content,size:d.size}):(d=a.getAllBalls(),"z3"===a.getType()?(d=a.z3ballsplit(d),a.basket.addAll(d)):0===a.edit?a.basket.add(d):a.basket.edit(d,a.edit),a.removeAll(),$("html, body").animate({scrollTop:$(".cast-basket .btn-main").offset().top+$(".cast-basket .btn-main")[0].scrollHeight-$(window).height()}))}})};cx.BoxCollection.prototype.addBall=function(a,d){var b={balls:[],betNum:0};$(this.boxes).each(function(d,f){f.removeAll();for(var c=0;c<a[d].length;++c)"z3"===this.getType()?f.addBall(a[d][c],!1):f.addBall(a[d][c]);b.balls.push(f.balls)});b.betNum="z3"===this.getType()&&1==d?1:this.calcBetNum();b.playType=this.getType();return b};cx.BoxCollection.prototype.renderBet=function(){0<this.$el.find(".num-red").length&&this.$el.find(".num-red").html(this.getNum(0));this.$el.find(".num-multiple").html(this.calcBetNum());this.$el.find(".num-money").html(this.calcMoney());if(!0===cx.Lottery.getRule(this.getType(),this.isValid()).status){if(0<this.$el.find(".sub-txt").length){var a=this.getType(),d=cx.Lottery.jiangjin[a];1E4<d&&(d=d/1E4+"\u4e07");a=cx.Lottery.jiangjin[a]-this.calcMoney();str="\uff08\u5982\u4e2d\u5956\uff0c\u5956\u91d1 \x3cem\x3e"+d+"\x3c/em\x3e \u5143\uff0c\u76c8\u5229 ";str=0<a?str+("\x3cem\x3e"+a+"\x3c/em\x3e \u5143\uff09"):str+('\x3cem class\x3d"green-color"\x3e'+a+"\x3c/em\x3e \u5143\uff09");$(".sub-txt").show().html(str)}this.$el.find(".add-basket").removeClass("btn-disabled")}else $(".sub-txt").hide(),this.$el.find(".add-basket").addClass("btn-disabled")};cx.BoxCollection.prototype.rand1=function(a){var d={balls:[],betNum:0,betMoney:0},f=cx.Lottery.getStartIndex(a),c=cx.Lottery.getMinLength(a);d.betNum=1;d.betMoney=this.betMoney;var e=cx.Lottery.getAmount(a);for(b in c)for(d.balls[b]={},d.balls[b].tuo=[];d.balls[b].tuo.length<c[b];)j=Math.floor(Math.random()*(e[b]-f[b]+1)+f[b]),-1===$.inArray(j,d.balls[b].tuo)&&d.balls[b].tuo.push(j);"z3"==a&&d.balls[0].tuo.push(d.balls[0].tuo[0]);d.playType=a;return d};cx.BoxCollection.prototype.z3ballsplit=function(a){var d=a.balls[0].tuo,b={},c=0;$.each(d,function(a,f){$.each(d,function(d,e){a!=d&&(b[c]={balls:[{tuo:[f,f,e]}],betNum:1,betMoney:2,playType:"z3"},c++)})});return b};cx.BallBox.prototype.init=function(){var a=this;this.$balls=a.$el.find(".pick-area-ball "+a.smallel);this.$balls.click(function(){var d=$(this);a.BallTriger(d)});this.$el.find(".clear-balls").click(function(){a.removeBalls()});this.$el.find(".filter-bigs").click(function(){a.removeBalls();for(var d=cx.Lottery.getAmount(a.playType)[a.index],b=cx.Lottery.getStartIndex(a.playType)[a.index],c=Math.ceil(d/2);c<=d;++c)a.BallTriger(a.$balls.eq(c-b))});this.$el.find(".filter-smalls").click(function(){a.removeBalls();for(var d=cx.Lottery.getAmount(a.playType)[a.index],b=cx.Lottery.getStartIndex(a.playType)[a.index],c=b;c<Math.ceil(d/2);++c)a.BallTriger(a.$balls.eq(c-b))});this.$el.find(".filter-odds").click(function(){a.removeBalls();for(var d=cx.Lottery.getStartIndex(a.playType)[a.index],b=d;b<=cx.Lottery.getAmount(a.playType)[a.index];++b)b%2&&a.BallTriger(a.$balls.eq(b-d))});this.$el.find(".filter-evens").click(function(){a.removeBalls();for(var d=cx.Lottery.getStartIndex(a.playType)[a.index],b=d;b<=cx.Lottery.getAmount(a.playType)[a.index];++b)0==b%2&&a.BallTriger(a.$balls.eq(b-d))});this.$el.find(".filter-all").click(function(){a.removeBalls();for(var d=cx.Lottery.getStartIndex(a.playType)[a.index],b=d;b<=cx.Lottery.getAmount(a.playType)[a.index];++b)a.BallTriger(a.$balls.eq(b-d))})};cx.BallBox.prototype.BallTriger=function(a,d){var b=a.html();a.hasClass("selected")?(a.removeClass("selected"),this.removeBall(b,d)):(a.addClass("selected"),this.addBall(b,d));this.collection.renderBet()};cx.BallBox.prototype.calcComb=function(){var a=cx.Math.combine(this.balls.length,cx.Lottery.getMinLength(this.playType)[this.index]);"z3"==this.options.playType&&(a*=2);return a};cx.BallBox.prototype.removeAll=function(){this.balls=[];this.$balls.removeClass("selected");this.collection.renderBet()};cx.BallBox.prototype.removeBalls=function(){this.balls=[];this.$balls.removeClass("selected");this.collection.renderBet()};cx.CastBasket.prototype.init=function(){var a=this;$.each(this.boxes,function(b,c){c.setBasket(a)});this.multiModifier.setCb(function(){a.multi=parseInt(this.getValue(),10);$(".Multi").html(a.multi);a.renderBetMoney();a.hemai.renderHeMai();a.chase.setChaseMulti(a.multi)});this.$el.find(".rand-cast").click(function(){var b=$(this),b=parseInt(b.data("amount"),10);a.randSelect(b)});this.$el.on("click",".remove-str",function(){var d=$(this).closest("li"),c=d.attr("data-index");for(b in a.boxes)c==a.boxes[b].edit&&a.boxes[b].clearButton(b);d.remove();a.remove(d.data("index"))});this.$el.on("click",".modify-str",function(){var b,c={};a.$castList.find("li").removeClass("hover");c=a.strings[$(this).parent("li").data("index")];a.boxes[c.playType].edit=$(this).parent("li").addClass("hover").data("index");c.playType!==a.playType&&$("."+a.tab).filter("[data-type\x3d"+c.playType+"]").trigger("click");b=cx.Lottery.getStartIndex(a.playType);a.boxes[a.playType].removeAll();$.each(c.balls,function(d,c){$.each(c.tuo,function(c,e){isNaN(e)||a.boxes[a.playType].boxes[d].$balls.eq(e-parseInt(b[d])).trigger("click")})});a.boxes[a.playType].renderBet();a.boxes[a.playType].$el.find(".add-basket").html('\u786e\u8ba4\u4fee\u6539\x3ci class\x3d"icon-font"\x3e\x26#xe614;\x3c/i\x3e')});this.$el.find(".clear-list").click(function(){a.removeAll();for(b in a.boxes)a.boxes[b].clearButton(b)});this.$el.on("click",".submit",function(b){b=$(this);a.submit(b,a)});this.$el.on("click",".buy-type-hd li",function(){switch($(this).index()){case 1:cx._basket_.orderType=1;$(this).find(".ptips-bd").hide();var a='\u8fde\u7eed\u591a\u671f\u8d2d\u4e70\u540c\u4e00\u4e2a\uff08\u7ec4\uff09\u53f7\u7801\x3cspan class\x3d"mod-tips"\x3e\x3ci class\x3d"icon-font bubble-tip" tiptext\x3d"\x3cem\x3e\u8ffd\u53f7\uff1a\x3c/em\x3e\u9009\u597d\u6295\u6ce8\u53f7\u7801\u540e\uff0c\u5bf9\u671f\u6570\u3001\u671f\x3cbr\x3e\u53f7\u3001\u500d\u6570\u8fdb\u884c\u8bbe\u7f6e\u540e\uff0c\u7cfb\u7edf\u6309\u7167\u8bbe\u7f6e\x3cbr\x3e\u8fdb\u884c\u8d2d\u4e70\u3002"\x3e\x26#xe613;\x3c/i\x3e';$(".chase-number-notes").html(a);break;case 2:cx._basket_.orderType=4;$(this).find(".ptips-bd").hide();a='\u591a\u4eba\u51fa\u8d44\u8d2d\u4e70\u5f69\u7968\uff0c\u5956\u91d1\u6309\u8d2d\u4e70\u6bd4\u4f8b\u5206\u4eab\x3cspan class\x3d"mod-tips"\x3e\x3ci class\x3d"icon-font bubble-tip" tiptext\x3d"\x3cem\x3e\u5408\u4e70\uff1a\x3c/em\x3e\u9009\u597d\u6295\u6ce8\u53f7\u7801\u540e\uff0c\u7531\u591a\u4eba\u51fa\u8d44\x3cbr\x3e\u8d2d\u4e70\u5f69\u7968\u3002\u4e2d\u5956\u540e\uff0c\u5956\u91d1\u6309\u8d2d\u4e70\u6bd4\u4f8b\x3cbr\x3e\u5206\u4eab\u3002"\x3e\x26#xe613;\x3c/i\x3e';$(".chase-number-notes").html(a);break;default:cx._basket_.orderType=0,$("#ordertype1").parents("span").find(".ptips-bd").show(),a='\u7531\u8d2d\u4e70\u4eba\u81ea\u884c\u5168\u989d\u8d2d\u4e70\u5f69\u7968\uff0c\u72ec\u4eab\u5956\u91d1\x3cspan class\x3d"mod-tips"\x3e\x3ci class\x3d"icon-font bubble-tip" tiptext\x3d"\x3cem\x3e\u81ea\u8d2d\uff1a\x3c/em\x3e\u9009\u597d\u6295\u6ce8\u53f7\u7801\u540e\uff0c\u7531\u81ea\u5df1\u5168\u989d\x3cbr\x3e\u652f\u4ed8\u8d2d\u5f69\u6b3e\u3002\u4e2d\u5956\u540e\uff0c\u81ea\u5df1\u72ec\u4eab\u5168\u90e8\x3cbr\x3e\u7a0e\u540e\u5956\u91d1\u3002"\x3e\x26#xe613;\x3c/i\x3e',$(".chase-number-notes").html(a)}chgbtn()})};cx.CastBasket.prototype.renderString=function(a,b,c,e){console.log(a);e="\x3cli ";c&&(e+=' class\x3d"hover"');e+=' data-index\x3d"'+b+'"\x3e\x3cspan class\x3d"bet-type"\x3e'+cx.Lottery.getPlayTypeName(cx.Lottery.playTypes[a.playType]);var d=[];$.each(a.balls,function(a,b){var c='\x3cspan class\x3d"num-red"\x3e';$.each(b.tuo.sort(sort),function(a,b){c+=b+" "});c+="\x3c/span\x3e";d.push(c)});d=d.join("\x3cem\x3e|\x3c/em\x3e");e+=(1<a.betNum?"\u590d\u5f0f":"\u5355\u5f0f")+'\x3c/span\x3e\x3cdiv class\x3d"num-group"\x3e'+d+'\x3c/div\x3e\x3ca href\x3d"javascript:;" class\x3d"remove-str"\x3e\u5220\u9664\x3c/a\x3e';"z3"!==a.playType&&(e+='\x3ca href\x3d"javascript:;" class\x3d"modify-str"\x3e\u4fee\u6539\x3c/a\x3e');return e+='\x3cspan class\x3d"bet-money"\x3e'+a.betMoney+"\u5143\x3c/span\x3e\x3c/li\x3e"};$.extend(cx.castData,{toCastString:function(a){var b=[],c=[],e=[];$.each(a,function(a,d){var f=d.playType||"default",g=":"+cx.Lottery.playTypes[f],h=":"+cx.Lottery.getCastPost(f,1<d.betNum);e=[];$.each(d.balls,function(a,b){c=[];$.each(b.tuo.sort(sort),function(a,b){c.push(b)});c=c.join(cx.Lottery.getNumberSeparator(f));e.push(c)});e=e.join(cx.Lottery.getPlaceSeparator(f));b.push(e+g+h)});return b.join(";")}});for(var e={zx:new cx.BoxCollection(".zx .box-collection"),z3:new cx.BoxCollection(".z3 .box-collection"),z6:new cx.BoxCollection(".z6 .box-collection")},b=1;3>=b;++b)e.zx.add(new cx.BallBox(".zx .ball-box-"+b,{playType:"zx"}));e.z3.add(new cx.BallBox(".z3 .ball-box-1",{playType:"z3"}));e.z6.add(new cx.BallBox(".z6 .ball-box-1",{playType:"z6"}));var c=new cx.AdderSubtractor(".multi-modifier"),e=new cx.CastBasket(".cast-basket",{boxes:e,chases:chase,chaseLength:chaselength,multi:MULTI,multiModifier:c,playType:type,tabClass:"current",tab:"bet-tab-hd li"});cx._basket_=e});